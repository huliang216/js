<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <title></title>
    <style type="text/css"></style>
    <script type="text/javascript">
    /**
     * function 函数内部属性： arguments , this, caller
     *      1. arguments 含有一个callee的属性，指针指向拥有arguments对象的函数。
     *          callee有length属性，返回形参个数。arguments.length返回实参个数。
     *      2. this 函数依赖执行的环境对象。
     *      3. caller 返回一个函数的引用，该函数调用了当前函数。该属性只有在函数调用时有用。
     */

     /** 阶乘函数 **/
     function factorial(num) {
        if (num < 1) {
            return 1;
        } else {
            return num * arguments.callee(num - 1);
        }
     }

     var res = factorial(5);
     console.log(res);

     var factorial2 = factorial;

     //
     factorial = function() {
        return 0;
     };

     console.log(factorial2(4));


     /**
      * this : 函数具以指向的函数对象
      **/

      window.color = "red";
      var o = {color: "blue"};

      function sayColor() {
        console.log(this.color);
        console.log(this);
      }

      sayColor();

      o.sayColor = sayColor;

      o.sayColor();

      /**
       *  caller : 保存调用当前函数的函数引用。
       */

    function outer() {
        inner();
    }

    function inner() {
        // auguments.callee 返回当前函数的引用
        // auguments.callee.caller 当前函数的调用函数
        console.log(arguments.callee.caller);
    }

    //outer();
    inner();

    </script>
</head>

<body>
    <div></div>
</body>

</html>
